<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>class CGMonitor::Plugin - RDoc Documentation</title>

<link type="text/css" media="screen" href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../index.html">Home</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>cgmonitor
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link">Object
  
</nav>

    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-c-new">::new</a>
    
    <li><a href="#method-i-debug_message">#debug_message</a>
    
    <li><a href="#method-i-ensure_emails_are_sent-3F">#ensure_emails_are_sent?</a>
    
    <li><a href="#method-i-error_message">#error_message</a>
    
    <li><a href="#method-i-get_node">#get_node</a>
    
    <li><a href="#method-i-info_message">#info_message</a>
    
    <li><a href="#method-i-load_my_options">#load_my_options</a>
    
    <li><a href="#method-i-mark_time">#mark_time</a>
    
    <li><a href="#method-i-send_buffered_emails">#send_buffered_emails</a>
    
    <li><a href="#method-i-send_email">#send_email</a>
    
    <li><a href="#method-i-send_email_buffered">#send_email_buffered</a>
    
    <li><a href="#method-i-send_im">#send_im</a>
    
    <li><a href="#method-i-time_at_mark">#time_at_mark</a>
    
    <li><a href="#method-i-time_since_mark">#time_since_mark</a>
    
    <li><a href="#method-i-warning_message">#warning_message</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../init_d/cgmonitor.html">cgmonitor</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../Jabber.html">Jabber</a>
  
    <li><a href="../Jabber/ArgumentError.html">Jabber::ArgumentError</a>
  
    <li><a href="../Jabber/Bytestreams.html">Jabber::Bytestreams</a>
  
    <li><a href="../Jabber/Bytestreams/IBB.html">Jabber::Bytestreams::IBB</a>
  
    <li><a href="../Jabber/Bytestreams/IBBInitiator.html">Jabber::Bytestreams::IBBInitiator</a>
  
    <li><a href="../Jabber/Bytestreams/IBBQueueItem.html">Jabber::Bytestreams::IBBQueueItem</a>
  
    <li><a href="../Jabber/Bytestreams/IBBTarget.html">Jabber::Bytestreams::IBBTarget</a>
  
    <li><a href="../Jabber/Bytestreams/IqQueryBytestreams.html">Jabber::Bytestreams::IqQueryBytestreams</a>
  
    <li><a href="../Jabber/Bytestreams/IqSi.html">Jabber::Bytestreams::IqSi</a>
  
    <li><a href="../Jabber/Bytestreams/IqSiFile.html">Jabber::Bytestreams::IqSiFile</a>
  
    <li><a href="../Jabber/Bytestreams/IqSiFileRange.html">Jabber::Bytestreams::IqSiFileRange</a>
  
    <li><a href="../Jabber/Bytestreams/SOCKS5Bytestreams.html">Jabber::Bytestreams::SOCKS5Bytestreams</a>
  
    <li><a href="../Jabber/Bytestreams/SOCKS5BytestreamsInitiator.html">Jabber::Bytestreams::SOCKS5BytestreamsInitiator</a>
  
    <li><a href="../Jabber/Bytestreams/SOCKS5BytestreamsPeer.html">Jabber::Bytestreams::SOCKS5BytestreamsPeer</a>
  
    <li><a href="../Jabber/Bytestreams/SOCKS5BytestreamsServer.html">Jabber::Bytestreams::SOCKS5BytestreamsServer</a>
  
    <li><a href="../Jabber/Bytestreams/SOCKS5BytestreamsServerStreamHost.html">Jabber::Bytestreams::SOCKS5BytestreamsServerStreamHost</a>
  
    <li><a href="../Jabber/Bytestreams/SOCKS5BytestreamsTarget.html">Jabber::Bytestreams::SOCKS5BytestreamsTarget</a>
  
    <li><a href="../Jabber/Bytestreams/SOCKS5Socket.html">Jabber::Bytestreams::SOCKS5Socket</a>
  
    <li><a href="../Jabber/Bytestreams/StreamHost.html">Jabber::Bytestreams::StreamHost</a>
  
    <li><a href="../Jabber/Bytestreams/StreamHostUsed.html">Jabber::Bytestreams::StreamHostUsed</a>
  
    <li><a href="../Jabber/Callback.html">Jabber::Callback</a>
  
    <li><a href="../Jabber/CallbackList.html">Jabber::CallbackList</a>
  
    <li><a href="../Jabber/Caps.html">Jabber::Caps</a>
  
    <li><a href="../Jabber/Caps/C.html">Jabber::Caps::C</a>
  
    <li><a href="../Jabber/Caps/Helper.html">Jabber::Caps::Helper</a>
  
    <li><a href="../Jabber/Client.html">Jabber::Client</a>
  
    <li><a href="../Jabber/ClientAuthenticationFailure.html">Jabber::ClientAuthenticationFailure</a>
  
    <li><a href="../Jabber/Command.html">Jabber::Command</a>
  
    <li><a href="../Jabber/Command/IqCommand.html">Jabber::Command::IqCommand</a>
  
    <li><a href="../Jabber/Command/Responder.html">Jabber::Command::Responder</a>
  
    <li><a href="../Jabber/Component.html">Jabber::Component</a>
  
    <li><a href="../Jabber/ComponentAuthenticationFailure.html">Jabber::ComponentAuthenticationFailure</a>
  
    <li><a href="../Jabber/Connection.html">Jabber::Connection</a>
  
    <li><a href="../Jabber/Dataforms.html">Jabber::Dataforms</a>
  
    <li><a href="../Jabber/Dataforms/XData.html">Jabber::Dataforms::XData</a>
  
    <li><a href="../Jabber/Dataforms/XDataField.html">Jabber::Dataforms::XDataField</a>
  
    <li><a href="../Jabber/Dataforms/XDataInstructions.html">Jabber::Dataforms::XDataInstructions</a>
  
    <li><a href="../Jabber/Dataforms/XDataReported.html">Jabber::Dataforms::XDataReported</a>
  
    <li><a href="../Jabber/Dataforms/XDataTitle.html">Jabber::Dataforms::XDataTitle</a>
  
    <li><a href="../Jabber/Delay.html">Jabber::Delay</a>
  
    <li><a href="../Jabber/Delay/XDelay.html">Jabber::Delay::XDelay</a>
  
    <li><a href="../Jabber/Discovery.html">Jabber::Discovery</a>
  
    <li><a href="../Jabber/Discovery/Feature.html">Jabber::Discovery::Feature</a>
  
    <li><a href="../Jabber/Discovery/Identity.html">Jabber::Discovery::Identity</a>
  
    <li><a href="../Jabber/Discovery/IqQueryDiscoInfo.html">Jabber::Discovery::IqQueryDiscoInfo</a>
  
    <li><a href="../Jabber/Discovery/IqQueryDiscoItems.html">Jabber::Discovery::IqQueryDiscoItems</a>
  
    <li><a href="../Jabber/Discovery/Item.html">Jabber::Discovery::Item</a>
  
    <li><a href="../Jabber/Discovery/Responder.html">Jabber::Discovery::Responder</a>
  
    <li><a href="../Jabber/ErrorResponse.html">Jabber::ErrorResponse</a>
  
    <li><a href="../Jabber/FeatureNegotiation.html">Jabber::FeatureNegotiation</a>
  
    <li><a href="../Jabber/FeatureNegotiation/IqFeature.html">Jabber::FeatureNegotiation::IqFeature</a>
  
    <li><a href="../Jabber/FileTransfer.html">Jabber::FileTransfer</a>
  
    <li><a href="../Jabber/FileTransfer/FileSource.html">Jabber::FileTransfer::FileSource</a>
  
    <li><a href="../Jabber/FileTransfer/Helper.html">Jabber::FileTransfer::Helper</a>
  
    <li><a href="../Jabber/FileTransfer/TransferSource.html">Jabber::FileTransfer::TransferSource</a>
  
    <li><a href="../Jabber/Framework.html">Jabber::Framework</a>
  
    <li><a href="../Jabber/Framework/Base.html">Jabber::Framework::Base</a>
  
    <li><a href="../Jabber/Framework/Bot.html">Jabber::Framework::Bot</a>
  
    <li><a href="../Jabber/HTTPBinding.html">Jabber::HTTPBinding</a>
  
    <li><a href="../Jabber/HTTPBinding/Client.html">Jabber::HTTPBinding::Client</a>
  
    <li><a href="../Jabber/IdGenerator.html">Jabber::IdGenerator</a>
  
    <li><a href="../Jabber/Iq.html">Jabber::Iq</a>
  
    <li><a href="../Jabber/IqQuery.html">Jabber::IqQuery</a>
  
    <li><a href="../Jabber/JID.html">Jabber::JID</a>
  
    <li><a href="../Jabber/JabberError.html">Jabber::JabberError</a>
  
    <li><a href="../Jabber/MUC.html">Jabber::MUC</a>
  
    <li><a href="../Jabber/MUC/IqQueryMUCAdmin.html">Jabber::MUC::IqQueryMUCAdmin</a>
  
    <li><a href="../Jabber/MUC/IqQueryMUCAdminItem.html">Jabber::MUC::IqQueryMUCAdminItem</a>
  
    <li><a href="../Jabber/MUC/IqQueryMUCOwner.html">Jabber::MUC::IqQueryMUCOwner</a>
  
    <li><a href="../Jabber/MUC/MUCBrowser.html">Jabber::MUC::MUCBrowser</a>
  
    <li><a href="../Jabber/MUC/MUCClient.html">Jabber::MUC::MUCClient</a>
  
    <li><a href="../Jabber/MUC/SimpleMUCClient.html">Jabber::MUC::SimpleMUCClient</a>
  
    <li><a href="../Jabber/MUC/UserItem.html">Jabber::MUC::UserItem</a>
  
    <li><a href="../Jabber/MUC/XMUC.html">Jabber::MUC::XMUC</a>
  
    <li><a href="../Jabber/MUC/XMUCUser.html">Jabber::MUC::XMUCUser</a>
  
    <li><a href="../Jabber/MUC/XMUCUserInvite.html">Jabber::MUC::XMUCUserInvite</a>
  
    <li><a href="../Jabber/MUC/XMUCUserItem.html">Jabber::MUC::XMUCUserItem</a>
  
    <li><a href="../Jabber/Message.html">Jabber::Message</a>
  
    <li><a href="../Jabber/NoNameXmlnsRegistered.html">Jabber::NoNameXmlnsRegistered</a>
  
    <li><a href="../Jabber/Presence.html">Jabber::Presence</a>
  
    <li><a href="../Jabber/PubSub.html">Jabber::PubSub</a>
  
    <li><a href="../Jabber/PubSub/Configuration.html">Jabber::PubSub::Configuration</a>
  
    <li><a href="../Jabber/PubSub/Event.html">Jabber::PubSub::Event</a>
  
    <li><a href="../Jabber/PubSub/EventItem.html">Jabber::PubSub::EventItem</a>
  
    <li><a href="../Jabber/PubSub/EventItems.html">Jabber::PubSub::EventItems</a>
  
    <li><a href="../Jabber/PubSub/IqPubSub.html">Jabber::PubSub::IqPubSub</a>
  
    <li><a href="../Jabber/PubSub/IqPubSubOwner.html">Jabber::PubSub::IqPubSubOwner</a>
  
    <li><a href="../Jabber/PubSub/Item.html">Jabber::PubSub::Item</a>
  
    <li><a href="../Jabber/PubSub/Items.html">Jabber::PubSub::Items</a>
  
    <li><a href="../Jabber/PubSub/NodeBrowser.html">Jabber::PubSub::NodeBrowser</a>
  
    <li><a href="../Jabber/PubSub/NodeConfig.html">Jabber::PubSub::NodeConfig</a>
  
    <li><a href="../Jabber/PubSub/NodeHelper.html">Jabber::PubSub::NodeHelper</a>
  
    <li><a href="../Jabber/PubSub/OwnerNodeConfig.html">Jabber::PubSub::OwnerNodeConfig</a>
  
    <li><a href="../Jabber/PubSub/Publish.html">Jabber::PubSub::Publish</a>
  
    <li><a href="../Jabber/PubSub/ServiceHelper.html">Jabber::PubSub::ServiceHelper</a>
  
    <li><a href="../Jabber/PubSub/Subscription.html">Jabber::PubSub::Subscription</a>
  
    <li><a href="../Jabber/PubSub/SubscriptionConfig.html">Jabber::PubSub::SubscriptionConfig</a>
  
    <li><a href="../Jabber/PubSub/Unsubscribe.html">Jabber::PubSub::Unsubscribe</a>
  
    <li><a href="../Jabber/RPC.html">Jabber::RPC</a>
  
    <li><a href="../Jabber/RPC/Client.html">Jabber::RPC::Client</a>
  
    <li><a href="../Jabber/RPC/IqQueryRPC.html">Jabber::RPC::IqQueryRPC</a>
  
    <li><a href="../Jabber/RPC/Server.html">Jabber::RPC::Server</a>
  
    <li><a href="../Jabber/Roster.html">Jabber::Roster</a>
  
    <li><a href="../Jabber/Roster/Helper.html">Jabber::Roster::Helper</a>
  
    <li><a href="../Jabber/Roster/Helper/RosterItem.html">Jabber::Roster::Helper::RosterItem</a>
  
    <li><a href="../Jabber/Roster/IqQueryRoster.html">Jabber::Roster::IqQueryRoster</a>
  
    <li><a href="../Jabber/Roster/RosterItem.html">Jabber::Roster::RosterItem</a>
  
    <li><a href="../Jabber/Roster/RosterX.html">Jabber::Roster::RosterX</a>
  
    <li><a href="../Jabber/Roster/RosterXItem.html">Jabber::Roster::RosterXItem</a>
  
    <li><a href="../Jabber/Roster/XRoster.html">Jabber::Roster::XRoster</a>
  
    <li><a href="../Jabber/Roster/XRosterItem.html">Jabber::Roster::XRosterItem</a>
  
    <li><a href="../Jabber/SASL.html">Jabber::SASL</a>
  
    <li><a href="../Jabber/SASL/Anonymous.html">Jabber::SASL::Anonymous</a>
  
    <li><a href="../Jabber/SASL/Base.html">Jabber::SASL::Base</a>
  
    <li><a href="../Jabber/SASL/DigestMD5.html">Jabber::SASL::DigestMD5</a>
  
    <li><a href="../Jabber/SASL/Plain.html">Jabber::SASL::Plain</a>
  
    <li><a href="../Jabber/SOCKS5Error.html">Jabber::SOCKS5Error</a>
  
    <li><a href="../Jabber/Semaphore.html">Jabber::Semaphore</a>
  
    <li><a href="../Jabber/Simple.html">Jabber::Simple</a>
  
    <li><a href="../Jabber/Stream.html">Jabber::Stream</a>
  
    <li><a href="../Jabber/Stream/ThreadBlock.html">Jabber::Stream::ThreadBlock</a>
  
    <li><a href="../Jabber/StreamParser.html">Jabber::StreamParser</a>
  
    <li><a href="../Jabber/UserTune.html">Jabber::UserTune</a>
  
    <li><a href="../Jabber/UserTune/Helper.html">Jabber::UserTune::Helper</a>
  
    <li><a href="../Jabber/UserTune/Tune.html">Jabber::UserTune::Tune</a>
  
    <li><a href="../Jabber/Vcard.html">Jabber::Vcard</a>
  
    <li><a href="../Jabber/Vcard/Helper.html">Jabber::Vcard::Helper</a>
  
    <li><a href="../Jabber/Vcard/IqVcard.html">Jabber::Vcard::IqVcard</a>
  
    <li><a href="../Jabber/Version.html">Jabber::Version</a>
  
    <li><a href="../Jabber/Version/IqQueryVersion.html">Jabber::Version::IqQueryVersion</a>
  
    <li><a href="../Jabber/Version/Responder.html">Jabber::Version::Responder</a>
  
    <li><a href="../Jabber/Version/SimpleResponder.html">Jabber::Version::SimpleResponder</a>
  
    <li><a href="../Jabber/X.html">Jabber::X</a>
  
    <li><a href="../Jabber/XHTML.html">Jabber::XHTML</a>
  
    <li><a href="../Jabber/XHTML/Body.html">Jabber::XHTML::Body</a>
  
    <li><a href="../Jabber/XHTML/HTML.html">Jabber::XHTML::HTML</a>
  
    <li><a href="../Jabber/XMPPElement.html">Jabber::XMPPElement</a>
  
    <li><a href="../Jabber/XMPPStanza.html">Jabber::XMPPStanza</a>
  
    <li><a href="../Jabber/XParent.html">Jabber::XParent</a>
  
    <li><a href="../File.html">File</a>
  
    <li><a href="../File/Tail.html">File::Tail</a>
  
    <li><a href="../File/Tail/BreakException.html">File::Tail::BreakException</a>
  
    <li><a href="../File/Tail/DeletedException.html">File::Tail::DeletedException</a>
  
    <li><a href="../File/Tail/Logfile.html">File::Tail::Logfile</a>
  
    <li><a href="../File/Tail/ReopenException.html">File::Tail::ReopenException</a>
  
    <li><a href="../File/Tail/ReturnException.html">File::Tail::ReturnException</a>
  
    <li><a href="../File/Tail/TailException.html">File::Tail::TailException</a>
  
    <li><a href="../CGMonitor.html">CGMonitor</a>
  
    <li><a href="../CGMonitor/Monitor.html">CGMonitor::Monitor</a>
  
    <li><a href="../CGMonitor/Plugin.html">CGMonitor::Plugin</a>
  
    <li><a href="../REXML.html">REXML</a>
  
    <li><a href="../REXML/Element.html">REXML::Element</a>
  
    <li><a href="../REXML/IOSource.html">REXML::IOSource</a>
  
    <li><a href="../XMLRPC.html">XMLRPC</a>
  
    <li><a href="../XMLRPC/Create.html">XMLRPC::Create</a>
  
    <li><a href="../ActiveBlacklistPlugin.html">ActiveBlacklistPlugin</a>
  
    <li><a href="../AtMailPlugin.html">AtMailPlugin</a>
  
    <li><a href="../Base64.html">Base64</a>
  
    <li><a href="../BlacklistPlugin.html">BlacklistPlugin</a>
  
    <li><a href="../CGPClamAVCrash.html">CGPClamAVCrash</a>
  
    <li><a href="../CGPMcAfeeCounter.html">CGPMcAfeeCounter</a>
  
    <li><a href="../CGPMcAfeeSparkwatcher.html">CGPMcAfeeSparkwatcher</a>
  
    <li><a href="../CGPSpamCatcherCounter.html">CGPSpamCatcherCounter</a>
  
    <li><a href="../CGPSpamCatcherRestart.html">CGPSpamCatcherRestart</a>
  
    <li><a href="../CheckSize.html">CheckSize</a>
  
    <li><a href="../CorruptedMailbox.html">CorruptedMailbox</a>
  
    <li><a href="../EmailStats.html">EmailStats</a>
  
    <li><a href="../FrequentSendersPlugin.html">FrequentSendersPlugin</a>
  
    <li><a href="../FrequentSpammerPlugin.html">FrequentSpammerPlugin</a>
  
    <li><a href="../Hash.html">Hash</a>
  
    <li><a href="../MessageThrottleCounterPlugin.html">MessageThrottleCounterPlugin</a>
  
    <li><a href="../Pathname.html">Pathname</a>
  
    <li><a href="../Pidify.html">Pidify</a>
  
    <li><a href="../SendmailBlacklistPlugin.html">SendmailBlacklistPlugin</a>
  
    <li><a href="../SpoofedFromAddressPlugin.html">SpoofedFromAddressPlugin</a>
  
    <li><a href="../SyslogRemotePlugin.html">SyslogRemotePlugin</a>
  
    <li><a href="../TestPlugin.html">TestPlugin</a>
  
    <li><a href="../Time.html">Time</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class CGMonitor::Plugin</h1>

  <div id="description" class="description">
    
<p>The abstract parent of all <a href="Plugin.html">Plugin</a> classes. 
Subclass <a href="Plugin.html">Plugin</a> to create a <a
href="../CGMonitor.html">CGMonitor</a> plugin.  A plugin must be in a ruby
file ending with “-plugin.rb” in the plugins/ directory.  It must contain a
subclass of <a href="Plugin.html">Plugin</a> with at least a
Plugin#every_line method that will be called and passed a String for every
line read from the log file or the every_second or every_minute methods.</p>

<p>There are also methods called when the plugin is initialized (start_up) and
when the plugin shuts down (shut_down).</p>

<p>See <a href="../CGMonitor.html">CGMonitor</a> for an example plugin and
more detailed information.</p>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    
    <!-- Attributes -->
    <section id="attribute-method-details" class="method-section section">
      <h3 class="section-header">Attributes</h3>

      
      <div id="attribute-c-registered_plugins" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">registered_plugins</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-current_file" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">current_file</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>The file (<a href="../Pathname.html">Pathname</a>) that’s currently being
acted on by this plugin, or was last acted on by this plugin.  This is set
by Monitor#pass_line_to_plugins just before Plugin#every_line is called.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-ensure_emails_are_sent" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">ensure_emails_are_sent</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>If set to true, this will call <a
href="Plugin.html#method-i-send_buffered_emails">#send_buffered_emails</a>
before shut down. See <a
href="Plugin.html#method-i-send_email_buffered">#send_email_buffered</a>
for more info.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-max_buffered_emails" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">max_buffered_emails</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>If set higher than 0, when the number of emails queued by <a
href="Plugin.html#method-i-send_email_buffered">#send_email_buffered</a>
reaches this number, all the messages in the queue will be sent, even if
the frequency has not been reached.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-monitor" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">monitor</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>The <a href="Monitor.html">Monitor</a> that controls this <a
href="Plugin.html">Plugin</a>.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-my_options" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">my_options</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>Configuration options for this plugin.  See <a
href="Plugin.html#method-i-load_my_options">#load_my_options</a>.</p>
        
        </div>
      </div>
      
    </section><!-- attribute-method-details -->
    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(options)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Don’t override this method.  Use start_up instead.</p>
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File cgmonitor, line 341</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">my_options</span> = <span class="ruby-identifier">options</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- new-source -->
          
        </div>

        

        
      </div><!-- new-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-debug_message" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">debug_message</span><span
            class="method-args">(text,include_filename=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Log a debug message.</p>
          

          
          <div class="method-source-code" id="debug_message-source">
            <pre><span class="ruby-comment"># File cgmonitor, line 367</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">debug_message</span>(<span class="ruby-identifier">text</span>,<span class="ruby-identifier">include_filename</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@monitor</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@monitor</span>.<span class="ruby-identifier">debug?</span>
  <span class="ruby-identifier">text</span> = <span class="ruby-identifier">prepend_info</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">include_filename</span>)
  <span class="ruby-constant">Syslog</span>.<span class="ruby-identifier">info</span>(<span class="ruby-identifier">text</span>)
  <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span>(<span class="ruby-identifier">text</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- debug_message-source -->
          
        </div>

        

        
      </div><!-- debug_message-method -->

    
      <div id="method-i-ensure_emails_are_sent-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ensure_emails_are_sent?</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns true if <a
href="Plugin.html#attribute-i-ensure_emails_are_sent">#ensure_emails_are_sent</a>
is set to true on this plugin which will make sure that if the plugin shuts
down before all emails in <a
href="Plugin.html#method-i-send_email_buffered">#send_email_buffered</a>
are sent, then <a
href="Plugin.html#method-i-send_buffered_emails">#send_buffered_emails</a>
will be called to force delivery.</p>
          

          
          <div class="method-source-code" id="ensure_emails_are_sent-3F-source">
            <pre><span class="ruby-comment"># File cgmonitor, line 427</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ensure_emails_are_sent?</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">ensure_emails_are_sent</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- ensure_emails_are_sent-3F-source -->
          
        </div>

        

        
      </div><!-- ensure_emails_are_sent-3F-method -->

    
      <div id="method-i-error_message" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">error_message</span><span
            class="method-args">(text,include_filename=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Log an error message.</p>
          

          
          <div class="method-source-code" id="error_message-source">
            <pre><span class="ruby-comment"># File cgmonitor, line 346</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">error_message</span>(<span class="ruby-identifier">text</span>,<span class="ruby-identifier">include_filename</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">text</span> = <span class="ruby-identifier">prepend_info</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">include_filename</span>)
  <span class="ruby-constant">Syslog</span>.<span class="ruby-identifier">crit</span>(<span class="ruby-identifier">text</span>)
  <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span>(<span class="ruby-identifier">text</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- error_message-source -->
          
        </div>

        

        
      </div><!-- error_message-method -->

    
      <div id="method-i-get_node" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_node</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Return the name of the node we’re currently looking at, if we can find  it.
Otherwise return ‘unknown’.</p>
          

          
          <div class="method-source-code" id="get_node-source">
            <pre><span class="ruby-comment"># File cgmonitor, line 400</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_node</span>
  <span class="ruby-identifier">node</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">node</span> = <span class="ruby-node">$1</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">current_file</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">%r\/(\we\d)\//</span>
    <span class="ruby-identifier">node</span> = <span class="ruby-string">'unknown'</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">empty?</span>
  <span class="ruby-identifier">node</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_node-source -->
          
        </div>

        

        
      </div><!-- get_node-method -->

    
      <div id="method-i-info_message" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">info_message</span><span
            class="method-args">(text,include_filename=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Log an info message.</p>
          

          
          <div class="method-source-code" id="info_message-source">
            <pre><span class="ruby-comment"># File cgmonitor, line 360</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">info_message</span>(<span class="ruby-identifier">text</span>,<span class="ruby-identifier">include_filename</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">text</span> = <span class="ruby-identifier">prepend_info</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">include_filename</span>)
  <span class="ruby-constant">Syslog</span>.<span class="ruby-identifier">info</span>(<span class="ruby-identifier">text</span>)
  <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span>(<span class="ruby-identifier">text</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- info_message-source -->
          
        </div>

        

        
      </div><!-- info_message-method -->

    
      <div id="method-i-load_my_options" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">load_my_options</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Loads any options in the cgmonitor YAML config file under the name of this
plugin and stores them in the @<a
href="Plugin.html#attribute-i-my_options">#my_options</a> attribute of this
<a href="Plugin.html">Plugin</a>.</p>

<p>For example, if the plugin was called <a
href="../TestPlugin.html">TestPlugin</a>, options for this plugin may be
defined as:</p>

<pre>:testplugin: 
  :search_phrase: &quot;testing please&quot;
  :max_count: 16</pre>

<p>You shouldn’t need to ever call this method directly.  It will be called
when a signal is received by the cgmonitor process.</p>
          

          
          <div class="method-source-code" id="load_my_options-source">
            <pre><span class="ruby-comment"># File cgmonitor, line 481</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">load_my_options</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@monitor</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">warning_message</span>(<span class="ruby-node">&quot;my_options failed for the plugin #{self.class.to_s} because the monitor is undefined.&quot;</span>)
    <span class="ruby-keyword">return</span> {}
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@my_options</span> <span class="ruby-operator">||=</span> {}
  <span class="ruby-ivar">@my_options</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-ivar">@monitor</span>.<span class="ruby-identifier">options_for</span>(<span class="ruby-keyword">self</span>))
<span class="ruby-keyword">end</span></pre>
          </div><!-- load_my_options-source -->
          
        </div>

        

        
      </div><!-- load_my_options-method -->

    
      <div id="method-i-mark_time" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">mark_time</span><span
            class="method-args">(label=:mark)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Sets a time mark with a given label.  See <a
href="Plugin.html#method-i-time_since_mark">#time_since_mark</a> and
time_at_mark.</p>
          

          
          <div class="method-source-code" id="mark_time-source">
            <pre><span class="ruby-comment"># File cgmonitor, line 491</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">mark_time</span>(<span class="ruby-identifier">label</span>=<span class="ruby-value">:mark</span>)
  <span class="ruby-ivar">@timer_marked_times</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@timer_marked_times</span>[<span class="ruby-identifier">label</span>] = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- mark_time-source -->
          
        </div>

        

        
      </div><!-- mark_time-method -->

    
      <div id="method-i-send_buffered_emails" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">send_buffered_emails</span><span
            class="method-args">(include_filename=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Sends all buffered emails now.  See <a
href="Plugin.html#method-i-send_email_buffered">#send_email_buffered</a>
for more details. You should never need to call this directly; it is used
if <a
href="Plugin.html#attribute-i-ensure_emails_are_sent">#ensure_emails_are_sent</a>
is set on this plugin.</p>
          

          
          <div class="method-source-code" id="send_buffered_emails-source">
            <pre><span class="ruby-comment"># File cgmonitor, line 410</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">send_buffered_emails</span>(<span class="ruby-identifier">include_filename</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@send_email_warning_messages</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@send_email_warning_messages</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">info_message</span>(<span class="ruby-node">&quot;Sending all #{@send_email_warning_messages.size} queued messages.&quot;</span>)
    <span class="ruby-identifier">mark_time</span>(<span class="ruby-value">:first_send_email_call</span>)
    <span class="ruby-identifier">message</span> = <span class="ruby-ivar">@send_email_warning_messages</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;\n\n&quot;</span>)
    <span class="ruby-ivar">@send_email_warning_messages</span>.<span class="ruby-identifier">clear</span>
    <span class="ruby-identifier">send_email</span>(<span class="ruby-identifier">message</span>, <span class="ruby-identifier">include_filename</span>)
    <span class="ruby-ivar">@send_email_warning_sent</span>[<span class="ruby-identifier">get_node</span>] = <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">info_message</span>(<span class="ruby-string">&quot;send_email_buffered finished sending all queued messages.&quot;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- send_buffered_emails-source -->
          
        </div>

        

        
      </div><!-- send_buffered_emails-method -->

    
      <div id="method-i-send_email" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">send_email</span><span
            class="method-args">(text,include_filename=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Send an email message, if the <a
href="Monitor.html#method-i-send_email">CGMonitor::Monitor#send_email</a>
is configured to do so.  This sends an immediate email; see <a
href="Plugin.html#method-i-send_email_buffered">#send_email_buffered</a>
for possibly a better option.</p>
          

          
          <div class="method-source-code" id="send_email-source">
            <pre><span class="ruby-comment"># File cgmonitor, line 389</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">send_email</span>(<span class="ruby-identifier">text</span>,<span class="ruby-identifier">include_filename</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@monitor</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">warning_message</span>(<span class="ruby-node">&quot;send_email failed for the plugin #{self.class.to_s} because the monitor is undefined.&quot;</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">text</span> = <span class="ruby-identifier">prepend_info</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">include_filename</span>)
  <span class="ruby-ivar">@monitor</span>.<span class="ruby-identifier">send_email</span>(<span class="ruby-identifier">text</span>, <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">to_s</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- send_email-source -->
          
        </div>

        

        
      </div><!-- send_email-method -->

    
      <div id="method-i-send_email_buffered" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">send_email_buffered</span><span
            class="method-args">(text,frequency=nil,include_filename=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Like <a href="Plugin.html#method-i-send_email">#send_email</a>, but only
send one every frequency seconds including all buffered emails for this
plugin. frequency defaults to one hour, but can be reset every time this
function is called.  If there are queued emails when the plugin is shut
down, they will not be sent unless <a
href="Plugin.html#attribute-i-ensure_emails_are_sent">#ensure_emails_are_sent</a>
is set to true.  If you need to send an email immediately, you can use <a
href="Plugin.html#method-i-send_email">#send_email</a> instead.</p>
          

          
          <div class="method-source-code" id="send_email_buffered-source">
            <pre><span class="ruby-comment"># File cgmonitor, line 437</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">send_email_buffered</span>(<span class="ruby-identifier">text</span>,<span class="ruby-identifier">frequency</span>=<span class="ruby-keyword">nil</span>,<span class="ruby-identifier">include_filename</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">node</span> = <span class="ruby-identifier">get_node</span>
  <span class="ruby-ivar">@send_email_warning_messages</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@send_email_warning_messages</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;[at #{Time.now.strftime('%Y-%m-%d %H:%M')}] &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">text</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-ivar">@send_email_warning_sent</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@send_email_buffered_frequency</span> <span class="ruby-operator">||=</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">hour</span>
  <span class="ruby-ivar">@send_email_buffered_frequency</span> = <span class="ruby-identifier">frequency</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">frequency</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">frequency</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Integer</span>
  <span class="ruby-identifier">mark_time</span>(<span class="ruby-value">:first_send_email_call</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">time_at_mark</span>(<span class="ruby-value">:first_send_email_call</span>)
  <span class="ruby-ivar">@include_filename</span> = <span class="ruby-identifier">include_filename</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@send_email_buffered_thread</span> <span class="ruby-keyword">and</span> <span class="ruby-ivar">@send_email_buffered_thread</span>.<span class="ruby-identifier">alive?</span>
    <span class="ruby-ivar">@send_email_buffered_thread</span> = <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">info_message</span>(<span class="ruby-node">&quot;send_email_buffered is starting a new thread to send #{@send_email_warning_messages.size} queued messages.&quot;</span>)
      <span class="ruby-identifier">loop</span> <span class="ruby-keyword">do</span>
        <span class="ruby-keyword">while</span> (<span class="ruby-keyword">not</span> <span class="ruby-ivar">@send_email_warning_messages</span>.<span class="ruby-identifier">empty?</span>)
          <span class="ruby-identifier">info_message</span>(<span class="ruby-node">&quot;send_email_buffered is considering sending #{@send_email_warning_messages.size} queued messages. #{time_since_mark(:first_send_email_call) / 60} minutes since the last send. Sending every #{@send_email_buffered_frequency / 60} minutes.&quot;</span>)
          <span class="ruby-keyword">if</span> ((<span class="ruby-keyword">self</span>.<span class="ruby-identifier">max_buffered_emails</span> <span class="ruby-keyword">and</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">max_buffered_emails</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> <span class="ruby-keyword">and</span> <span class="ruby-ivar">@send_email_warning_messages</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">max_buffered_emails</span>) <span class="ruby-keyword">or</span> (<span class="ruby-identifier">time_since_mark</span>(<span class="ruby-value">:first_send_email_call</span>) <span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@send_email_buffered_frequency</span>))
            <span class="ruby-ivar">@send_email_warning_sent</span>.<span class="ruby-identifier">clear</span>
            <span class="ruby-identifier">mark_time</span>(<span class="ruby-value">:first_send_email_call</span>)
          <span class="ruby-keyword">end</span>
          <span class="ruby-identifier">send_buffered_emails</span>(<span class="ruby-ivar">@include_filename</span>) <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@send_email_warning_sent</span>[<span class="ruby-identifier">node</span>]
          <span class="ruby-identifier">sleep</span> <span class="ruby-value">5</span>.<span class="ruby-identifier">minutes</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">info_message</span>(<span class="ruby-string">&quot;send_email_buffered thread is waiting; no messages to send.&quot;</span>)
        <span class="ruby-identifier">sleep</span> <span class="ruby-value">5</span>.<span class="ruby-identifier">minutes</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">info_message</span>(<span class="ruby-node">&quot;send_email_buffered is not starting a new mail thread; one is already running. #{@send_email_warning_messages.size} messages to send; last sent at #{time_at_mark(:first_send_email_call).to_s}&quot;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- send_email_buffered-source -->
          
        </div>

        

        
      </div><!-- send_email_buffered-method -->

    
      <div id="method-i-send_im" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">send_im</span><span
            class="method-args">(text,include_filename=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Send an IM message, if the <a
href="Monitor.html#method-i-send_im">CGMonitor::Monitor#send_im</a> is
configured to do so.</p>
          

          
          <div class="method-source-code" id="send_im-source">
            <pre><span class="ruby-comment"># File cgmonitor, line 377</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">send_im</span>(<span class="ruby-identifier">text</span>,<span class="ruby-identifier">include_filename</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@monitor</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">warning_message</span>(<span class="ruby-node">&quot;send_im failed for the plugin #{self.class.to_s} because the monitor is undefined.&quot;</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">text</span> = <span class="ruby-identifier">prepend_info</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">include_filename</span>)
  <span class="ruby-ivar">@monitor</span>.<span class="ruby-identifier">send_im</span>(<span class="ruby-identifier">text</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- send_im-source -->
          
        </div>

        

        
      </div><!-- send_im-method -->

    
      <div id="method-i-time_at_mark" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">time_at_mark</span><span
            class="method-args">(label=:mark)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>After marking an optionally labeled time with <a
href="Plugin.html#method-i-mark_time">#mark_time</a>, you can retrieve the
time marked with time_at_mark.  Also see time_since_mark.</p>
          

          
          <div class="method-source-code" id="time_at_mark-source">
            <pre><span class="ruby-comment"># File cgmonitor, line 498</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">time_at_mark</span>(<span class="ruby-identifier">label</span>=<span class="ruby-value">:mark</span>)
  <span class="ruby-ivar">@timer_marked_times</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@timer_marked_times</span>[<span class="ruby-identifier">label</span>] <span class="ruby-keyword">if</span> <span class="ruby-ivar">@timer_marked_times</span>[<span class="ruby-identifier">label</span>]
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- time_at_mark-source -->
          
        </div>

        

        
      </div><!-- time_at_mark-method -->

    
      <div id="method-i-time_since_mark" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">time_since_mark</span><span
            class="method-args">(label=:mark, time=Time.now)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>After marking an optionally labeled time with <a
href="Plugin.html#method-i-mark_time">#mark_time</a>, you can retrieve the
time difference between that time and the current time with
time_since_mark.  The time difference is provided in seconds as an integer.
You can also specify an optional time on which to perform the difference.</p>
          

          
          <div class="method-source-code" id="time_since_mark-source">
            <pre><span class="ruby-comment"># File cgmonitor, line 509</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">time_since_mark</span>(<span class="ruby-identifier">label</span>=<span class="ruby-value">:mark</span>, <span class="ruby-identifier">time</span>=<span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>)
  <span class="ruby-ivar">@timer_marked_times</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-keyword">return</span> (<span class="ruby-identifier">time</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@timer_marked_times</span>[<span class="ruby-identifier">label</span>]).<span class="ruby-identifier">to_i</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@timer_marked_times</span>[<span class="ruby-identifier">label</span>]
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- time_since_mark-source -->
          
        </div>

        

        
      </div><!-- time_since_mark-method -->

    
      <div id="method-i-warning_message" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">warning_message</span><span
            class="method-args">(text,include_filename=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Log a warning message.</p>
          

          
          <div class="method-source-code" id="warning_message-source">
            <pre><span class="ruby-comment"># File cgmonitor, line 353</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">warning_message</span>(<span class="ruby-identifier">text</span>,<span class="ruby-identifier">include_filename</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">text</span> = <span class="ruby-identifier">prepend_info</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">include_filename</span>)
  <span class="ruby-constant">Syslog</span>.<span class="ruby-identifier">warning</span>(<span class="ruby-identifier">text</span>)
  <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span>(<span class="ruby-identifier">text</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- warning_message-source -->
          
        </div>

        

        
      </div><!-- warning_message-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

