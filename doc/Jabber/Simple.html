<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>class Jabber::Simple - RDoc Documentation</title>

<link type="text/css" media="screen" href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../index.html">Home</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>xmpp4r-simple.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link">Object
  
</nav>

    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-c-new">::new</a>
    
    <li><a href="#method-i-accept_subscriptions-3D">#accept_subscriptions=</a>
    
    <li><a href="#method-i-accept_subscriptions-3F">#accept_subscriptions?</a>
    
    <li><a href="#method-i-add">#add</a>
    
    <li><a href="#method-i-client">#client</a>
    
    <li><a href="#method-i-connected-3F">#connected?</a>
    
    <li><a href="#method-i-contacts">#contacts</a>
    
    <li><a href="#method-i-deliver">#deliver</a>
    
    <li><a href="#method-i-deliver_deferred">#deliver_deferred</a>
    
    <li><a href="#method-i-disconnect">#disconnect</a>
    
    <li><a href="#method-i-new_subscriptions">#new_subscriptions</a>
    
    <li><a href="#method-i-new_subscriptions-3F">#new_subscriptions?</a>
    
    <li><a href="#method-i-presence_updates">#presence_updates</a>
    
    <li><a href="#method-i-presence_updates-3F">#presence_updates?</a>
    
    <li><a href="#method-i-received_messages">#received_messages</a>
    
    <li><a href="#method-i-received_messages-3F">#received_messages?</a>
    
    <li><a href="#method-i-reconnect">#reconnect</a>
    
    <li><a href="#method-i-remove">#remove</a>
    
    <li><a href="#method-i-roster">#roster</a>
    
    <li><a href="#method-i-send-21">#send!</a>
    
    <li><a href="#method-i-status">#status</a>
    
    <li><a href="#method-i-subscribed_to-3F">#subscribed_to?</a>
    
    <li><a href="#method-i-subscription_requests">#subscription_requests</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../init_d/cgmonitor.html">cgmonitor</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../Jabber.html">Jabber</a>
  
    <li><a href="../Jabber/ArgumentError.html">Jabber::ArgumentError</a>
  
    <li><a href="../Jabber/Bytestreams.html">Jabber::Bytestreams</a>
  
    <li><a href="../Jabber/Bytestreams/IBB.html">Jabber::Bytestreams::IBB</a>
  
    <li><a href="../Jabber/Bytestreams/IBBInitiator.html">Jabber::Bytestreams::IBBInitiator</a>
  
    <li><a href="../Jabber/Bytestreams/IBBQueueItem.html">Jabber::Bytestreams::IBBQueueItem</a>
  
    <li><a href="../Jabber/Bytestreams/IBBTarget.html">Jabber::Bytestreams::IBBTarget</a>
  
    <li><a href="../Jabber/Bytestreams/IqQueryBytestreams.html">Jabber::Bytestreams::IqQueryBytestreams</a>
  
    <li><a href="../Jabber/Bytestreams/IqSi.html">Jabber::Bytestreams::IqSi</a>
  
    <li><a href="../Jabber/Bytestreams/IqSiFile.html">Jabber::Bytestreams::IqSiFile</a>
  
    <li><a href="../Jabber/Bytestreams/IqSiFileRange.html">Jabber::Bytestreams::IqSiFileRange</a>
  
    <li><a href="../Jabber/Bytestreams/SOCKS5Bytestreams.html">Jabber::Bytestreams::SOCKS5Bytestreams</a>
  
    <li><a href="../Jabber/Bytestreams/SOCKS5BytestreamsInitiator.html">Jabber::Bytestreams::SOCKS5BytestreamsInitiator</a>
  
    <li><a href="../Jabber/Bytestreams/SOCKS5BytestreamsPeer.html">Jabber::Bytestreams::SOCKS5BytestreamsPeer</a>
  
    <li><a href="../Jabber/Bytestreams/SOCKS5BytestreamsServer.html">Jabber::Bytestreams::SOCKS5BytestreamsServer</a>
  
    <li><a href="../Jabber/Bytestreams/SOCKS5BytestreamsServerStreamHost.html">Jabber::Bytestreams::SOCKS5BytestreamsServerStreamHost</a>
  
    <li><a href="../Jabber/Bytestreams/SOCKS5BytestreamsTarget.html">Jabber::Bytestreams::SOCKS5BytestreamsTarget</a>
  
    <li><a href="../Jabber/Bytestreams/SOCKS5Socket.html">Jabber::Bytestreams::SOCKS5Socket</a>
  
    <li><a href="../Jabber/Bytestreams/StreamHost.html">Jabber::Bytestreams::StreamHost</a>
  
    <li><a href="../Jabber/Bytestreams/StreamHostUsed.html">Jabber::Bytestreams::StreamHostUsed</a>
  
    <li><a href="../Jabber/Callback.html">Jabber::Callback</a>
  
    <li><a href="../Jabber/CallbackList.html">Jabber::CallbackList</a>
  
    <li><a href="../Jabber/Caps.html">Jabber::Caps</a>
  
    <li><a href="../Jabber/Caps/C.html">Jabber::Caps::C</a>
  
    <li><a href="../Jabber/Caps/Helper.html">Jabber::Caps::Helper</a>
  
    <li><a href="../Jabber/Client.html">Jabber::Client</a>
  
    <li><a href="../Jabber/ClientAuthenticationFailure.html">Jabber::ClientAuthenticationFailure</a>
  
    <li><a href="../Jabber/Command.html">Jabber::Command</a>
  
    <li><a href="../Jabber/Command/IqCommand.html">Jabber::Command::IqCommand</a>
  
    <li><a href="../Jabber/Command/Responder.html">Jabber::Command::Responder</a>
  
    <li><a href="../Jabber/Component.html">Jabber::Component</a>
  
    <li><a href="../Jabber/ComponentAuthenticationFailure.html">Jabber::ComponentAuthenticationFailure</a>
  
    <li><a href="../Jabber/Connection.html">Jabber::Connection</a>
  
    <li><a href="../Jabber/Dataforms.html">Jabber::Dataforms</a>
  
    <li><a href="../Jabber/Dataforms/XData.html">Jabber::Dataforms::XData</a>
  
    <li><a href="../Jabber/Dataforms/XDataField.html">Jabber::Dataforms::XDataField</a>
  
    <li><a href="../Jabber/Dataforms/XDataInstructions.html">Jabber::Dataforms::XDataInstructions</a>
  
    <li><a href="../Jabber/Dataforms/XDataReported.html">Jabber::Dataforms::XDataReported</a>
  
    <li><a href="../Jabber/Dataforms/XDataTitle.html">Jabber::Dataforms::XDataTitle</a>
  
    <li><a href="../Jabber/Delay.html">Jabber::Delay</a>
  
    <li><a href="../Jabber/Delay/XDelay.html">Jabber::Delay::XDelay</a>
  
    <li><a href="../Jabber/Discovery.html">Jabber::Discovery</a>
  
    <li><a href="../Jabber/Discovery/Feature.html">Jabber::Discovery::Feature</a>
  
    <li><a href="../Jabber/Discovery/Identity.html">Jabber::Discovery::Identity</a>
  
    <li><a href="../Jabber/Discovery/IqQueryDiscoInfo.html">Jabber::Discovery::IqQueryDiscoInfo</a>
  
    <li><a href="../Jabber/Discovery/IqQueryDiscoItems.html">Jabber::Discovery::IqQueryDiscoItems</a>
  
    <li><a href="../Jabber/Discovery/Item.html">Jabber::Discovery::Item</a>
  
    <li><a href="../Jabber/Discovery/Responder.html">Jabber::Discovery::Responder</a>
  
    <li><a href="../Jabber/ErrorResponse.html">Jabber::ErrorResponse</a>
  
    <li><a href="../Jabber/FeatureNegotiation.html">Jabber::FeatureNegotiation</a>
  
    <li><a href="../Jabber/FeatureNegotiation/IqFeature.html">Jabber::FeatureNegotiation::IqFeature</a>
  
    <li><a href="../Jabber/FileTransfer.html">Jabber::FileTransfer</a>
  
    <li><a href="../Jabber/FileTransfer/FileSource.html">Jabber::FileTransfer::FileSource</a>
  
    <li><a href="../Jabber/FileTransfer/Helper.html">Jabber::FileTransfer::Helper</a>
  
    <li><a href="../Jabber/FileTransfer/TransferSource.html">Jabber::FileTransfer::TransferSource</a>
  
    <li><a href="../Jabber/Framework.html">Jabber::Framework</a>
  
    <li><a href="../Jabber/Framework/Base.html">Jabber::Framework::Base</a>
  
    <li><a href="../Jabber/Framework/Bot.html">Jabber::Framework::Bot</a>
  
    <li><a href="../Jabber/HTTPBinding.html">Jabber::HTTPBinding</a>
  
    <li><a href="../Jabber/HTTPBinding/Client.html">Jabber::HTTPBinding::Client</a>
  
    <li><a href="../Jabber/IdGenerator.html">Jabber::IdGenerator</a>
  
    <li><a href="../Jabber/Iq.html">Jabber::Iq</a>
  
    <li><a href="../Jabber/IqQuery.html">Jabber::IqQuery</a>
  
    <li><a href="../Jabber/JID.html">Jabber::JID</a>
  
    <li><a href="../Jabber/JabberError.html">Jabber::JabberError</a>
  
    <li><a href="../Jabber/MUC.html">Jabber::MUC</a>
  
    <li><a href="../Jabber/MUC/IqQueryMUCAdmin.html">Jabber::MUC::IqQueryMUCAdmin</a>
  
    <li><a href="../Jabber/MUC/IqQueryMUCAdminItem.html">Jabber::MUC::IqQueryMUCAdminItem</a>
  
    <li><a href="../Jabber/MUC/IqQueryMUCOwner.html">Jabber::MUC::IqQueryMUCOwner</a>
  
    <li><a href="../Jabber/MUC/MUCBrowser.html">Jabber::MUC::MUCBrowser</a>
  
    <li><a href="../Jabber/MUC/MUCClient.html">Jabber::MUC::MUCClient</a>
  
    <li><a href="../Jabber/MUC/SimpleMUCClient.html">Jabber::MUC::SimpleMUCClient</a>
  
    <li><a href="../Jabber/MUC/UserItem.html">Jabber::MUC::UserItem</a>
  
    <li><a href="../Jabber/MUC/XMUC.html">Jabber::MUC::XMUC</a>
  
    <li><a href="../Jabber/MUC/XMUCUser.html">Jabber::MUC::XMUCUser</a>
  
    <li><a href="../Jabber/MUC/XMUCUserInvite.html">Jabber::MUC::XMUCUserInvite</a>
  
    <li><a href="../Jabber/MUC/XMUCUserItem.html">Jabber::MUC::XMUCUserItem</a>
  
    <li><a href="../Jabber/Message.html">Jabber::Message</a>
  
    <li><a href="../Jabber/NoNameXmlnsRegistered.html">Jabber::NoNameXmlnsRegistered</a>
  
    <li><a href="../Jabber/Presence.html">Jabber::Presence</a>
  
    <li><a href="../Jabber/PubSub.html">Jabber::PubSub</a>
  
    <li><a href="../Jabber/PubSub/Configuration.html">Jabber::PubSub::Configuration</a>
  
    <li><a href="../Jabber/PubSub/Event.html">Jabber::PubSub::Event</a>
  
    <li><a href="../Jabber/PubSub/EventItem.html">Jabber::PubSub::EventItem</a>
  
    <li><a href="../Jabber/PubSub/EventItems.html">Jabber::PubSub::EventItems</a>
  
    <li><a href="../Jabber/PubSub/IqPubSub.html">Jabber::PubSub::IqPubSub</a>
  
    <li><a href="../Jabber/PubSub/IqPubSubOwner.html">Jabber::PubSub::IqPubSubOwner</a>
  
    <li><a href="../Jabber/PubSub/Item.html">Jabber::PubSub::Item</a>
  
    <li><a href="../Jabber/PubSub/Items.html">Jabber::PubSub::Items</a>
  
    <li><a href="../Jabber/PubSub/NodeBrowser.html">Jabber::PubSub::NodeBrowser</a>
  
    <li><a href="../Jabber/PubSub/NodeConfig.html">Jabber::PubSub::NodeConfig</a>
  
    <li><a href="../Jabber/PubSub/NodeHelper.html">Jabber::PubSub::NodeHelper</a>
  
    <li><a href="../Jabber/PubSub/OwnerNodeConfig.html">Jabber::PubSub::OwnerNodeConfig</a>
  
    <li><a href="../Jabber/PubSub/Publish.html">Jabber::PubSub::Publish</a>
  
    <li><a href="../Jabber/PubSub/ServiceHelper.html">Jabber::PubSub::ServiceHelper</a>
  
    <li><a href="../Jabber/PubSub/Subscription.html">Jabber::PubSub::Subscription</a>
  
    <li><a href="../Jabber/PubSub/SubscriptionConfig.html">Jabber::PubSub::SubscriptionConfig</a>
  
    <li><a href="../Jabber/PubSub/Unsubscribe.html">Jabber::PubSub::Unsubscribe</a>
  
    <li><a href="../Jabber/RPC.html">Jabber::RPC</a>
  
    <li><a href="../Jabber/RPC/Client.html">Jabber::RPC::Client</a>
  
    <li><a href="../Jabber/RPC/IqQueryRPC.html">Jabber::RPC::IqQueryRPC</a>
  
    <li><a href="../Jabber/RPC/Server.html">Jabber::RPC::Server</a>
  
    <li><a href="../Jabber/Roster.html">Jabber::Roster</a>
  
    <li><a href="../Jabber/Roster/Helper.html">Jabber::Roster::Helper</a>
  
    <li><a href="../Jabber/Roster/Helper/RosterItem.html">Jabber::Roster::Helper::RosterItem</a>
  
    <li><a href="../Jabber/Roster/IqQueryRoster.html">Jabber::Roster::IqQueryRoster</a>
  
    <li><a href="../Jabber/Roster/RosterItem.html">Jabber::Roster::RosterItem</a>
  
    <li><a href="../Jabber/Roster/RosterX.html">Jabber::Roster::RosterX</a>
  
    <li><a href="../Jabber/Roster/RosterXItem.html">Jabber::Roster::RosterXItem</a>
  
    <li><a href="../Jabber/Roster/XRoster.html">Jabber::Roster::XRoster</a>
  
    <li><a href="../Jabber/Roster/XRosterItem.html">Jabber::Roster::XRosterItem</a>
  
    <li><a href="../Jabber/SASL.html">Jabber::SASL</a>
  
    <li><a href="../Jabber/SASL/Anonymous.html">Jabber::SASL::Anonymous</a>
  
    <li><a href="../Jabber/SASL/Base.html">Jabber::SASL::Base</a>
  
    <li><a href="../Jabber/SASL/DigestMD5.html">Jabber::SASL::DigestMD5</a>
  
    <li><a href="../Jabber/SASL/Plain.html">Jabber::SASL::Plain</a>
  
    <li><a href="../Jabber/SOCKS5Error.html">Jabber::SOCKS5Error</a>
  
    <li><a href="../Jabber/Semaphore.html">Jabber::Semaphore</a>
  
    <li><a href="../Jabber/Simple.html">Jabber::Simple</a>
  
    <li><a href="../Jabber/Stream.html">Jabber::Stream</a>
  
    <li><a href="../Jabber/Stream/ThreadBlock.html">Jabber::Stream::ThreadBlock</a>
  
    <li><a href="../Jabber/StreamParser.html">Jabber::StreamParser</a>
  
    <li><a href="../Jabber/UserTune.html">Jabber::UserTune</a>
  
    <li><a href="../Jabber/UserTune/Helper.html">Jabber::UserTune::Helper</a>
  
    <li><a href="../Jabber/UserTune/Tune.html">Jabber::UserTune::Tune</a>
  
    <li><a href="../Jabber/Vcard.html">Jabber::Vcard</a>
  
    <li><a href="../Jabber/Vcard/Helper.html">Jabber::Vcard::Helper</a>
  
    <li><a href="../Jabber/Vcard/IqVcard.html">Jabber::Vcard::IqVcard</a>
  
    <li><a href="../Jabber/Version.html">Jabber::Version</a>
  
    <li><a href="../Jabber/Version/IqQueryVersion.html">Jabber::Version::IqQueryVersion</a>
  
    <li><a href="../Jabber/Version/Responder.html">Jabber::Version::Responder</a>
  
    <li><a href="../Jabber/Version/SimpleResponder.html">Jabber::Version::SimpleResponder</a>
  
    <li><a href="../Jabber/X.html">Jabber::X</a>
  
    <li><a href="../Jabber/XHTML.html">Jabber::XHTML</a>
  
    <li><a href="../Jabber/XHTML/Body.html">Jabber::XHTML::Body</a>
  
    <li><a href="../Jabber/XHTML/HTML.html">Jabber::XHTML::HTML</a>
  
    <li><a href="../Jabber/XMPPElement.html">Jabber::XMPPElement</a>
  
    <li><a href="../Jabber/XMPPStanza.html">Jabber::XMPPStanza</a>
  
    <li><a href="../Jabber/XParent.html">Jabber::XParent</a>
  
    <li><a href="../File.html">File</a>
  
    <li><a href="../File/Tail.html">File::Tail</a>
  
    <li><a href="../File/Tail/BreakException.html">File::Tail::BreakException</a>
  
    <li><a href="../File/Tail/DeletedException.html">File::Tail::DeletedException</a>
  
    <li><a href="../File/Tail/Logfile.html">File::Tail::Logfile</a>
  
    <li><a href="../File/Tail/ReopenException.html">File::Tail::ReopenException</a>
  
    <li><a href="../File/Tail/ReturnException.html">File::Tail::ReturnException</a>
  
    <li><a href="../File/Tail/TailException.html">File::Tail::TailException</a>
  
    <li><a href="../CGMonitor.html">CGMonitor</a>
  
    <li><a href="../CGMonitor/Monitor.html">CGMonitor::Monitor</a>
  
    <li><a href="../CGMonitor/Plugin.html">CGMonitor::Plugin</a>
  
    <li><a href="../REXML.html">REXML</a>
  
    <li><a href="../REXML/Element.html">REXML::Element</a>
  
    <li><a href="../REXML/IOSource.html">REXML::IOSource</a>
  
    <li><a href="../XMLRPC.html">XMLRPC</a>
  
    <li><a href="../XMLRPC/Create.html">XMLRPC::Create</a>
  
    <li><a href="../ActiveBlacklistPlugin.html">ActiveBlacklistPlugin</a>
  
    <li><a href="../AtMailPlugin.html">AtMailPlugin</a>
  
    <li><a href="../Base64.html">Base64</a>
  
    <li><a href="../BlacklistPlugin.html">BlacklistPlugin</a>
  
    <li><a href="../CGPClamAVCrash.html">CGPClamAVCrash</a>
  
    <li><a href="../CGPMcAfeeCounter.html">CGPMcAfeeCounter</a>
  
    <li><a href="../CGPMcAfeeSparkwatcher.html">CGPMcAfeeSparkwatcher</a>
  
    <li><a href="../CGPSpamCatcherCounter.html">CGPSpamCatcherCounter</a>
  
    <li><a href="../CGPSpamCatcherRestart.html">CGPSpamCatcherRestart</a>
  
    <li><a href="../CheckSize.html">CheckSize</a>
  
    <li><a href="../CorruptedMailbox.html">CorruptedMailbox</a>
  
    <li><a href="../EmailStats.html">EmailStats</a>
  
    <li><a href="../FrequentSendersPlugin.html">FrequentSendersPlugin</a>
  
    <li><a href="../FrequentSpammerPlugin.html">FrequentSpammerPlugin</a>
  
    <li><a href="../Hash.html">Hash</a>
  
    <li><a href="../MessageThrottleCounterPlugin.html">MessageThrottleCounterPlugin</a>
  
    <li><a href="../Pathname.html">Pathname</a>
  
    <li><a href="../Pidify.html">Pidify</a>
  
    <li><a href="../SendmailBlacklistPlugin.html">SendmailBlacklistPlugin</a>
  
    <li><a href="../SpoofedFromAddressPlugin.html">SpoofedFromAddressPlugin</a>
  
    <li><a href="../SyslogRemotePlugin.html">SyslogRemotePlugin</a>
  
    <li><a href="../TestPlugin.html">TestPlugin</a>
  
    <li><a href="../Time.html">Time</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class Jabber::Simple</h1>

  <div id="description" class="description">
    
  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(jid, password, status = nil, status_message = "Available")</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Create a new <a href="Simple.html">Jabber::Simple</a> client. You will be
automatically connected to the <a href="../Jabber.html">Jabber</a> server
and your status message will be set to the string passed in as the
status_message argument.</p>

<p>jabber = <a href="Simple.html#method-c-new">::new</a>(“me@example.com”,
“password”, “Chat with me - Please!”)</p>
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File xmpp4r-simple.rb, line 80</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">jid</span>, <span class="ruby-identifier">password</span>, <span class="ruby-identifier">status</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">status_message</span> = <span class="ruby-string">&quot;Available&quot;</span>)
  <span class="ruby-ivar">@jid</span> = <span class="ruby-identifier">jid</span>
  <span class="ruby-ivar">@password</span> = <span class="ruby-identifier">password</span>
  <span class="ruby-ivar">@disconnected</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">status</span>(<span class="ruby-identifier">status</span>, <span class="ruby-identifier">status_message</span>)
  <span class="ruby-identifier">start_deferred_delivery_thread</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- new-source -->
          
        </div>

        

        
      </div><!-- new-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-accept_subscriptions-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">accept_subscriptions=</span><span
            class="method-args">(accept_status)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Change whether or not subscriptions (friend requests) are automatically
accepted.</p>
          

          
          <div class="method-source-code" id="accept_subscriptions-3D-source">
            <pre><span class="ruby-comment"># File xmpp4r-simple.rb, line 296</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">accept_subscriptions=</span>(<span class="ruby-identifier">accept_status</span>)
  <span class="ruby-ivar">@accept_subscriptions</span> = <span class="ruby-identifier">accept_status</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- accept_subscriptions-3D-source -->
          
        </div>

        

        
      </div><!-- accept_subscriptions-3D-method -->

    
      <div id="method-i-accept_subscriptions-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">accept_subscriptions?</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns true if auto-accept subscriptions (friend requests) is enabled
(default), false otherwise.</p>
          

          
          <div class="method-source-code" id="accept_subscriptions-3F-source">
            <pre><span class="ruby-comment"># File xmpp4r-simple.rb, line 290</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">accept_subscriptions?</span>
  <span class="ruby-ivar">@accept_subscriptions</span> = <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@accept_subscriptions</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-ivar">@accept_subscriptions</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- accept_subscriptions-3F-source -->
          
        </div>

        

        
      </div><!-- accept_subscriptions-3F-method -->

    
      <div id="method-i-add" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">add</span><span
            class="method-args">(*jids)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Ask the users specified by jids for authorization (i.e., ask them to add
you to their contact list). If you are already in the user’s contact list,
add() will not attempt to re-request authorization. In order to force
re-authorization, first remove() the user, then re-add them.</p>

<p>Example usage:</p>

<pre>jabber_simple.add(&quot;friend@friendosaurus.com&quot;)</pre>

<p>Because the authorization process might take a few seconds, or might never
happen depending on when (and if) the user accepts your request, results
are placed in the <a
href="Simple.html#method-i-new_subscriptions">#new_subscriptions</a> queue.</p>
          

          
          <div class="method-source-code" id="add-source">
            <pre><span class="ruby-comment"># File xmpp4r-simple.rb, line 148</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add</span>(*<span class="ruby-identifier">jids</span>)
  <span class="ruby-identifier">contacts</span>(*<span class="ruby-identifier">jids</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">friend</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">subscribed_to?</span> <span class="ruby-identifier">friend</span>
    <span class="ruby-identifier">friend</span>.<span class="ruby-identifier">ask_for_authorization!</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- add-source -->
          
        </div>

        

        
      </div><!-- add-method -->

    
      <div id="method-i-client" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">client</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Direct access to the underlying <a href="../Jabber.html">Jabber</a> client.</p>
          

          
          <div class="method-source-code" id="client-source">
            <pre><span class="ruby-comment"># File xmpp4r-simple.rb, line 307</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">client</span>
  <span class="ruby-identifier">connect!</span>() <span class="ruby-keyword">unless</span> <span class="ruby-identifier">connected?</span>
  <span class="ruby-ivar">@client</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- client-source -->
          
        </div>

        

        
      </div><!-- client-method -->

    
      <div id="method-i-connected-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">connected?</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns true if the <a href="../Jabber.html">Jabber</a> client is connected
to the <a href="../Jabber.html">Jabber</a> server, false otherwise.</p>
          

          
          <div class="method-source-code" id="connected-3F-source">
            <pre><span class="ruby-comment"># File xmpp4r-simple.rb, line 193</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">connected?</span>
  <span class="ruby-ivar">@client</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">connected</span> = <span class="ruby-ivar">@client</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:is_connected?</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@client</span>.<span class="ruby-identifier">is_connected?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">connected</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- connected-3F-source -->
          
        </div>

        

        
      </div><!-- connected-3F-method -->

    
      <div id="method-i-contacts" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">contacts</span><span
            class="method-args">(*contacts) { |contacts| ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>If contacts is a single contact, returns a Jabber::Contact object
representing that user; if contacts is an array, returns an array of
Jabber::Contact objects.</p>

<p>When called with a block, contacts will yield each Jabber::Contact object
in turn. This is mainly used internally, but exposed as an utility
function.</p>
          

          
          <div class="method-source-code" id="contacts-source">
            <pre><span class="ruby-comment"># File xmpp4r-simple.rb, line 177</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">contacts</span>(*<span class="ruby-identifier">contacts</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-ivar">@contacts</span> <span class="ruby-operator">||=</span> {}
  <span class="ruby-identifier">contakts</span> = []
  <span class="ruby-identifier">contacts</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">contact</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">jid</span> = <span class="ruby-identifier">contact</span>.<span class="ruby-identifier">to_s</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@contacts</span>[<span class="ruby-identifier">jid</span>]
      <span class="ruby-ivar">@contacts</span>[<span class="ruby-identifier">jid</span>] = <span class="ruby-identifier">contact</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:ask_for_authorization!</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">contact</span> <span class="ruby-operator">:</span> <span class="ruby-constant">Contact</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">contact</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">yield</span> <span class="ruby-ivar">@contacts</span>[<span class="ruby-identifier">jid</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-identifier">contakts</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@contacts</span>[<span class="ruby-identifier">jid</span>]
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">contakts</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">contakts</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">contakts</span>.<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- contacts-source -->
          
        </div>

        

        
      </div><!-- contacts-method -->

    
      <div id="method-i-deliver" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">deliver</span><span
            class="method-args">(jid, message, type=:chat)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Send a message to jabber user jid.</p>

<p>Valid message types are:</p>

<pre>* :normal (default): a normal message.
* :chat: a one-to-one chat message.
* :groupchat: a group-chat message.
* :headline: a &quot;headline&quot; message.
* :error: an error message.</pre>

<p>If the recipient is not in your contacts list, the message will be queued
for later delivery, and the Contact will be automatically asked for
authorization (see <a href="Simple.html#method-i-add">#add</a>).</p>
          

          
          <div class="method-source-code" id="deliver-source">
            <pre><span class="ruby-comment"># File xmpp4r-simple.rb, line 105</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">deliver</span>(<span class="ruby-identifier">jid</span>, <span class="ruby-identifier">message</span>, <span class="ruby-identifier">type</span>=<span class="ruby-value">:chat</span>)
  <span class="ruby-identifier">contacts</span>(<span class="ruby-identifier">jid</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">friend</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">subscribed_to?</span> <span class="ruby-identifier">friend</span>
      <span class="ruby-identifier">add</span>(<span class="ruby-identifier">friend</span>.<span class="ruby-identifier">jid</span>)
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">deliver_deferred</span>(<span class="ruby-identifier">friend</span>.<span class="ruby-identifier">jid</span>, <span class="ruby-identifier">message</span>, <span class="ruby-identifier">type</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">msg</span> = <span class="ruby-constant">Message</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">friend</span>.<span class="ruby-identifier">jid</span>)
    <span class="ruby-identifier">msg</span>.<span class="ruby-identifier">type</span> = <span class="ruby-identifier">type</span>
    <span class="ruby-identifier">msg</span>.<span class="ruby-identifier">body</span> = <span class="ruby-identifier">message</span>
    <span class="ruby-identifier">send!</span>(<span class="ruby-identifier">msg</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- deliver-source -->
          
        </div>

        

        
      </div><!-- deliver-method -->

    
      <div id="method-i-deliver_deferred" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">deliver_deferred</span><span
            class="method-args">(jid, message, type)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Queue messages for delivery once a user has accepted our authorization
request. Works in conjunction with the deferred delivery thread.</p>

<p>You can use this method if you want to manually add friends and still have
the message queued for later delivery.</p>
          

          
          <div class="method-source-code" id="deliver_deferred-source">
            <pre><span class="ruby-comment"># File xmpp4r-simple.rb, line 344</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">deliver_deferred</span>(<span class="ruby-identifier">jid</span>, <span class="ruby-identifier">message</span>, <span class="ruby-identifier">type</span>)
  <span class="ruby-identifier">msg</span> = {<span class="ruby-value">:to</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">jid</span>, <span class="ruby-value">:message</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">message</span>, <span class="ruby-value">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">type</span>}
  <span class="ruby-identifier">queue</span>(<span class="ruby-value">:pending_messages</span>) <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">msg</span>]
<span class="ruby-keyword">end</span></pre>
          </div><!-- deliver_deferred-source -->
          
        </div>

        

        
      </div><!-- deliver_deferred-method -->

    
      <div id="method-i-disconnect" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">disconnect</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Use this to force the client to disconnect and not automatically reconnect.</p>
          

          
          <div class="method-source-code" id="disconnect-source">
            <pre><span class="ruby-comment"># File xmpp4r-simple.rb, line 335</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">disconnect</span>
  <span class="ruby-identifier">disconnect!</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- disconnect-source -->
          
        </div>

        

        
      </div><!-- disconnect-method -->

    
      <div id="method-i-new_subscriptions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new_subscriptions</span><span
            class="method-args">(&block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns an array of subscription notifications received since the last time
<a href="Simple.html#method-i-new_subscriptions">#new_subscriptions</a> was
called. Passing a block will yield each update in turn, allowing you to
break part-way through processing (especially useful when your subscription
handling code is not thread-safe (e.g., ActiveRecord).</p>

<p>e.g.:</p>

<pre class="ruby"><span class="ruby-identifier">jabber</span>.<span class="ruby-identifier">new_subscriptions</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">friend</span>, <span class="ruby-identifier">presence</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Received presence update from #{friend.to_s}: #{presence}&quot;</span>
<span class="ruby-keyword">end</span>
</pre>
          

          
          <div class="method-source-code" id="new_subscriptions-source">
            <pre><span class="ruby-comment"># File xmpp4r-simple.rb, line 263</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">new_subscriptions</span>(&amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">dequeue</span>(<span class="ruby-value">:new_subscriptions</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- new_subscriptions-source -->
          
        </div>

        

        
      </div><!-- new_subscriptions-method -->

    
      <div id="method-i-new_subscriptions-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new_subscriptions?</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns true if there are unprocessed presence updates waiting in the
queue, false otherwise.</p>
          

          
          <div class="method-source-code" id="new_subscriptions-3F-source">
            <pre><span class="ruby-comment"># File xmpp4r-simple.rb, line 269</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">new_subscriptions?</span>
  <span class="ruby-operator">!</span><span class="ruby-identifier">queue</span>(<span class="ruby-value">:new_subscriptions</span>).<span class="ruby-identifier">empty?</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- new_subscriptions-3F-source -->
          
        </div>

        

        
      </div><!-- new_subscriptions-3F-method -->

    
      <div id="method-i-presence_updates" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">presence_updates</span><span
            class="method-args">() { |new_update| ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns an array of presence updates received since the last time <a
href="Simple.html#method-i-presence_updates">#presence_updates</a> was
called. Passing a block will yield each update in turn, allowing you to
break part-way through processing (especially useful when your presence
handling code is not thread-safe (e.g., ActiveRecord).</p>

<p>e.g.:</p>

<pre class="ruby"><span class="ruby-identifier">jabber</span>.<span class="ruby-identifier">presence_updates</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">friend</span>, <span class="ruby-identifier">new_presence</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Received presence update from #{friend}: #{new_presence}&quot;</span>
<span class="ruby-keyword">end</span>
</pre>
          

          
          <div class="method-source-code" id="presence_updates-source">
            <pre><span class="ruby-comment"># File xmpp4r-simple.rb, line 231</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">presence_updates</span>(&amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">updates</span> = []
  <span class="ruby-ivar">@presence_mutex</span>.<span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">dequeue</span>(<span class="ruby-value">:presence_updates</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">friend</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">presence</span> = <span class="ruby-ivar">@presence_updates</span>[<span class="ruby-identifier">friend</span>]
      <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">presence</span>
      <span class="ruby-identifier">new_update</span> = [<span class="ruby-identifier">friend</span>, <span class="ruby-identifier">presence</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">presence</span>[<span class="ruby-value">1</span>]]
      <span class="ruby-keyword">yield</span> <span class="ruby-identifier">new_update</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
      <span class="ruby-identifier">updates</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">new_update</span>
      <span class="ruby-ivar">@presence_updates</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">friend</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">updates</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- presence_updates-source -->
          
        </div>

        

        
      </div><!-- presence_updates-method -->

    
      <div id="method-i-presence_updates-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">presence_updates?</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns true if there are unprocessed presence updates waiting in the
queue, false otherwise.</p>
          

          
          <div class="method-source-code" id="presence_updates-3F-source">
            <pre><span class="ruby-comment"># File xmpp4r-simple.rb, line 248</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">presence_updates?</span>
  <span class="ruby-operator">!</span><span class="ruby-identifier">queue</span>(<span class="ruby-value">:presence_updates</span>).<span class="ruby-identifier">empty?</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- presence_updates-3F-source -->
          
        </div>

        

        
      </div><!-- presence_updates-3F-method -->

    
      <div id="method-i-received_messages" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">received_messages</span><span
            class="method-args">(&block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns an array of messages received since the last time <a
href="Simple.html#method-i-received_messages">#received_messages</a> was
called. Passing a block will yield each message in turn, allowing you to
break part-way through processing (especially useful when your message
handling code is not thread-safe (e.g., ActiveRecord).</p>

<p>e.g.:</p>

<pre class="ruby"><span class="ruby-identifier">jabber</span>.<span class="ruby-identifier">received_messages</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">message</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Received message from #{message.from}: #{message.body}&quot;</span>
<span class="ruby-keyword">end</span>
</pre>
          

          
          <div class="method-source-code" id="received_messages-source">
            <pre><span class="ruby-comment"># File xmpp4r-simple.rb, line 210</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">received_messages</span>(&amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">dequeue</span>(<span class="ruby-value">:received_messages</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- received_messages-source -->
          
        </div>

        

        
      </div><!-- received_messages-method -->

    
      <div id="method-i-received_messages-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">received_messages?</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns true if there are unprocessed received messages waiting in the
queue, false otherwise.</p>
          

          
          <div class="method-source-code" id="received_messages-3F-source">
            <pre><span class="ruby-comment"># File xmpp4r-simple.rb, line 216</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">received_messages?</span>
  <span class="ruby-operator">!</span><span class="ruby-identifier">queue</span>(<span class="ruby-value">:received_messages</span>).<span class="ruby-identifier">empty?</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- received_messages-3F-source -->
          
        </div>

        

        
      </div><!-- received_messages-3F-method -->

    
      <div id="method-i-reconnect" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">reconnect</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Use this to force the client to reconnect after a force_disconnect.</p>
          

          
          <div class="method-source-code" id="reconnect-source">
            <pre><span class="ruby-comment"># File xmpp4r-simple.rb, line 328</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">reconnect</span>
  <span class="ruby-ivar">@disconnected</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">connect!</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- reconnect-source -->
          
        </div>

        

        
      </div><!-- reconnect-method -->

    
      <div id="method-i-remove" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">remove</span><span
            class="method-args">(*jids)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Remove the jabber users specified by jids from the contact list.</p>
          

          
          <div class="method-source-code" id="remove-source">
            <pre><span class="ruby-comment"># File xmpp4r-simple.rb, line 156</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">remove</span>(*<span class="ruby-identifier">jids</span>)
  <span class="ruby-identifier">contacts</span>(*<span class="ruby-identifier">jids</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">unfriend</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">unfriend</span>.<span class="ruby-identifier">unsubscribe!</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- remove-source -->
          
        </div>

        

        
      </div><!-- remove-method -->

    
      <div id="method-i-roster" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">roster</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Direct access to the underlying <a href="Roster.html">Roster</a> helper.</p>
          

          
          <div class="method-source-code" id="roster-source">
            <pre><span class="ruby-comment"># File xmpp4r-simple.rb, line 301</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">roster</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@roster</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@roster</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">roster</span> = <span class="ruby-constant">Roster</span><span class="ruby-operator">::</span><span class="ruby-constant">Helper</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">client</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- roster-source -->
          
        </div>

        

        
      </div><!-- roster-method -->

    
      <div id="method-i-send-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">send!</span><span
            class="method-args">(msg)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Send a <a href="../Jabber.html">Jabber</a> stanza over-the-wire.</p>
          

          
          <div class="method-source-code" id="send-21-source">
            <pre><span class="ruby-comment"># File xmpp4r-simple.rb, line 313</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">send!</span>(<span class="ruby-identifier">msg</span>)
  <span class="ruby-identifier">attempts</span> = <span class="ruby-value">0</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">attempts</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
    <span class="ruby-identifier">client</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">msg</span>)
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">EPIPE</span>, <span class="ruby-constant">IOError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">sleep</span> <span class="ruby-value">0.33</span>
    <span class="ruby-identifier">disconnect</span>
    <span class="ruby-identifier">reconnect</span>
    <span class="ruby-keyword">retry</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">attempts</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- send-21-source -->
          
        </div>

        

        
      </div><!-- send-21-method -->

    
      <div id="method-i-status" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">status</span><span
            class="method-args">(presence, message)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Set your presence, with a message.</p>

<p>Available values for presence are:</p>

<pre>* nil: online.
* :chat: free for chat.
* :away: away from the computer.
* :dnd: do not disturb.
* :xa: extended away.</pre>

<p>It’s not possible to set an offline status - to do that, disconnect! :-)</p>
          

          
          <div class="method-source-code" id="status-source">
            <pre><span class="ruby-comment"># File xmpp4r-simple.rb, line 129</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">status</span>(<span class="ruby-identifier">presence</span>, <span class="ruby-identifier">message</span>)
  <span class="ruby-ivar">@presence</span> = <span class="ruby-identifier">presence</span>
  <span class="ruby-ivar">@status_message</span> = <span class="ruby-identifier">message</span>
  <span class="ruby-identifier">stat_msg</span> = <span class="ruby-constant">Presence</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@presence</span>, <span class="ruby-ivar">@status_message</span>)
  <span class="ruby-identifier">send!</span>(<span class="ruby-identifier">stat_msg</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- status-source -->
          
        </div>

        

        
      </div><!-- status-method -->

    
      <div id="method-i-subscribed_to-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">subscribed_to?</span><span
            class="method-args">(jid)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns true if this <a href="../Jabber.html">Jabber</a> account is
subscribed to status updates for the jabber user jid, false otherwise.</p>
          

          
          <div class="method-source-code" id="subscribed_to-3F-source">
            <pre><span class="ruby-comment"># File xmpp4r-simple.rb, line 164</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">subscribed_to?</span>(<span class="ruby-identifier">jid</span>)
  <span class="ruby-identifier">contacts</span>(<span class="ruby-identifier">jid</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">contact</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">contact</span>.<span class="ruby-identifier">subscribed?</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- subscribed_to-3F-source -->
          
        </div>

        

        
      </div><!-- subscribed_to-3F-method -->

    
      <div id="method-i-subscription_requests" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">subscription_requests</span><span
            class="method-args">(&block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns an array of subscription notifications received since the last time
<a
href="Simple.html#method-i-subscription_requests">#subscription_requests</a>
was called. Passing a block will yield each update in turn, allowing you to
break part-way through processing (especially useful when your subscription
handling code is not thread-safe (e.g., ActiveRecord).</p>

<p>e.g.:</p>

<pre class="ruby"><span class="ruby-identifier">jabber</span>.<span class="ruby-identifier">subscription_requests</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">friend</span>, <span class="ruby-identifier">presence</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Received presence update from #{friend.to_s}: #{presence}&quot;</span>
<span class="ruby-keyword">end</span>
</pre>
          

          
          <div class="method-source-code" id="subscription_requests-source">
            <pre><span class="ruby-comment"># File xmpp4r-simple.rb, line 284</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">subscription_requests</span>(&amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">dequeue</span>(<span class="ruby-value">:subscription_requests</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- subscription_requests-source -->
          
        </div>

        

        
      </div><!-- subscription_requests-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

